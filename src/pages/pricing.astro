---
import Layout from "../layouts/Layout.astro";
import Navigation from "../components/Navigation.astro";
import Footer from "../components/Footer.astro";
import WaitlistModal from "../components/WaitlistModal.svelte";
import versionData from "../../version.json";
---

<Layout
  title="Pricing | GlassNotes"
  description="Simple and transparent pricing for GlassNotes."
>
  <Navigation transition:persist />

  <main transition:animate="slide">
    <section class="pricing-hero">
      <div class="badge">
        <span class="badge-dot"></span>
        Simple, transparent pricing
      </div>
      <h1 class="reveal">Choose your flow.</h1>
      <p class="reveal delay-1">
        From casual thoughts to professional knowledge bases.<br />
        Select the plan that matches your creative energy.
      </p>

      <div class="pricing-grid">
        <!-- Starter Plan -->
        <div class="pricing-card glass reveal delay-2">
          <div class="plan-info">
            <h3>GlassNotes FREE</h3>
            <div class="price">$0 <span>/ forever</span></div>
            <p>The pure, essential writing experience.</p>
          </div>
          <ul class="plan-features">
            <li>
              <div class="feature-content">
                <strong>Pure Markdown Editor</strong>
                <span class="desc">Formatting, tables, and tasks.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Global Quick Note</strong>
                <span class="desc">Capture thoughts from anywhere.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Secure Local Storage</strong>
                <span class="desc">Your data stays on your device.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Standard Glass Theme</strong>
                <span class="desc">Clean, native macOS aesthetics.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Folders & Tags</strong>
                <span class="desc">Essential organization tools.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Markdown Export</strong>
                <span class="desc">Save as standard .md files.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>10+ Languages</strong>
                <span class="desc">English, Czech, German, and more.</span>
              </div>
            </li>
          </ul>
          <a href={versionData.downloadUrl} class="cta-button secondary"
            >Download the App</a
          >
        </div>

        <!-- Pro Plan -->
        <div class="pricing-card glass pro-featured reveal delay-3">
          <div class="popular-badge">MOST POPULAR</div>
          <div class="plan-info">
            <h3>GlassNotes PRO</h3>
            <div class="price">$8 <span>/ month</span></div>
            <p>Unleash the full potential of your knowledge ecosystem.</p>
          </div>
          <ul class="plan-features">
            <li>
              <div class="feature-content">
                <strong>Unlimited Wiki-links</strong>
                <span class="desc">Build a persistent web of knowledge.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Infinite Note History</strong>
                <span class="desc">Every version recorded.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>One-Click Restore</strong>
                <span class="desc">Instantly revert to any past version.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Real-time Cloud Sync</strong>
                <span class="desc">Seamless sync across Mac and Web.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Universal Web App</strong>
                <span class="desc">Access from any modern browser.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Designer Theme Suite</strong>
                <span class="desc">Midnight, Forest, and Sunset themes.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Advanced Smart Folders</strong>
                <span class="desc">Dynamic multi-criteria filters.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Customization Plus</strong>
                <span class="desc">Custom folder colors and icons.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Priority Support</strong>
                <span class="desc">Direct access to developers.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Early Access</strong>
                <span class="desc">Try experimental new features first.</span>
              </div>
            </li>
          </ul>
          <a href="#" class="cta-button primary">Upgrade to Pro</a>
        </div>

        <!-- Lifetime Plan -->
        <div class="pricing-card glass lifetime-tier reveal delay-4">
          <div class="plan-info">
            <h3>Lifetime Access</h3>
            <div class="price">$149 <span>/ once</span></div>
            <p>One-time payment. Pure focus for a lifetime.</p>
          </div>
          <ul class="plan-features">
            <li>
              <div class="feature-content">
                <strong>Everything in PRO</strong>
                <span class="desc">All current and future pro features.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Lifetime Updates</strong>
                <span class="desc">Never pay for another version again.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Priority Support</strong>
                <span class="desc">Direct VIP access to our team.</span>
              </div>
            </li>
            <li>
              <div class="feature-content">
                <strong>Vault Sync</strong>
                <span class="desc">Cloud coordination across all devices.</span>
              </div>
            </li>
          </ul>
          <a href="#" class="cta-button primary">Own it Forever</a>
        </div>
      </div>

      <div class="ai-coming-soon reveal delay-5">
        <div class="pricing-card glass ai-tier">
          <div class="ai-badge hidden">FUTURE RELEASE</div>
          <div class="ai-content-wrapper">
            <div class="plan-info">
              <h3>GlassNotes AI Plus</h3>
              <div class="price">Coming Soon</div>
              <p>
                Supercharge your writing with integrated artificial
                intelligence.
              </p>
            </div>
            <ul class="plan-features ai-features-grid">
              <li>
                <div class="feature-content">
                  <strong>Intelligent Summarization</strong>
                  <span class="desc"
                    >Distill long documents into actionable insights instantly.</span
                  >
                </div>
              </li>
              <li>
                <div class="feature-content">
                  <strong>Smart Drafting</strong>
                  <span class="desc"
                    >AI-powered suggestions to help you overcome writer's block.</span
                  >
                </div>
              </li>
              <li>
                <div class="feature-content">
                  <strong>Contextual Awareness</strong>
                  <span class="desc"
                    >The AI understands your entire vault and links related
                    ideas.</span
                  >
                </div>
              </li>
              <li>
                <div class="feature-content">
                  <strong>Autonomous Tagging</strong>
                  <span class="desc"
                    >Automatic organization based on the content of your notes.</span
                  >
                </div>
              </li>
            </ul>
          </div>
          <button
            class="cta-button primary waitlist-trigger"
            data-waitlist-id="82395224-e54b-4de5-80ae-554d66bc7146"
            style="width: 100%; margin-top: 24px;"
          >
            Notify Me
          </button>
        </div>
      </div>
    </section>
  </main>

  <Footer transition:persist />

  <WaitlistModal client:load />

  <script>
    function setupWaitlistTriggers() {
      const triggers = document.querySelectorAll(".waitlist-trigger");
      triggers.forEach((trigger) => {
        trigger.addEventListener("click", () => {
          const waitlistId = trigger.getAttribute("data-waitlist-id");
          window.dispatchEvent(
            new CustomEvent("open-waitlist-modal", {
              detail: { waitlistId },
            }),
          );
        });
      });
    }

    setupWaitlistTriggers();

    document.addEventListener("astro:after-swap", () => {
      setupWaitlistTriggers();
    });
  </script>
</Layout>
