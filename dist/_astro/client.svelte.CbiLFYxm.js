import{K as G,B as V,w as J,M as W,v as ee,q as T,O as M,f as c,h as u,P as R,g as te,i as j,Q as x,H as se,b as p,R as S,p as k,a as U,S as ie,T as C,U as y,V as I,W as ne,X as L,Y as K,m as re,Z as P,_ as ae,$ as B,a0 as oe,a1 as he,d as A,l as w,a2 as fe,k as le,a3 as H,a4 as de,E as ce,a5 as ue,a6 as _e,a7 as pe,a8 as N,a9 as Q,aa as ge,ab as ve,ac as D,n as m,ad as ye,ae as me,af as Ee,ag as be,ah as q,ai as Te,aj as E,ak as Re,al as X,am as we,an as Se,ao as ke,ap as Ae,aq as $e,ar as Ne}from"./template.BCX2npSM.js";function De(i){let e=0,t=W(0),n;return()=>{G()&&(V(t),J(()=>(e===0&&(n=ee(()=>i(()=>M(t)))),e+=1,()=>{T(()=>{e-=1,e===0&&(n?.(),n=void 0,M(t))})})))}}var Oe=ce|ue|_e;function xe(i,e,t){new Fe(i,e,t)}class Fe{parent;is_pending=!1;#t;#y=u?c:null;#i;#l;#n;#s=null;#e=null;#r=null;#a=null;#f=null;#d=0;#o=0;#u=!1;#c=!1;#_=new Set;#p=new Set;#h=null;#b=De(()=>(this.#h=W(this.#d),()=>{this.#h=null}));constructor(e,t,n){this.#t=e,this.#i=t,this.#l=n,this.parent=R.b,this.is_pending=!!this.#i.pending,this.#n=te(()=>{if(R.b=this,u){const s=this.#y;j(),s.nodeType===x&&s.data===se?this.#R():(this.#T(),this.#o===0&&(this.is_pending=!1))}else{var r=this.#m();try{this.#s=p(()=>n(r))}catch(s){this.error(s)}this.#o>0?this.#v():this.is_pending=!1}return()=>{this.#f?.remove()}},Oe),u&&(this.#t=c)}#T(){try{this.#s=p(()=>this.#l(this.#t))}catch(e){this.error(e)}}#R(){const e=this.#i.pending;e&&(this.#e=p(()=>e(this.#t)),T(()=>{var t=this.#m();this.#s=this.#g(()=>(S.ensure(),p(()=>this.#l(t)))),this.#o>0?this.#v():(k(this.#e,()=>{this.#e=null}),this.is_pending=!1)}))}#m(){var e=this.#t;return this.is_pending&&(this.#f=U(),this.#t.before(this.#f),e=this.#f),e}defer_effect(e){ie(e,this.#_,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#i.pending}#g(e){var t=R,n=L,r=K;C(this.#n),y(this.#n),I(this.#n.ctx);try{return e()}catch(s){return ne(s),null}finally{C(t),y(n),I(r)}}#v(){const e=this.#i.pending;this.#s!==null&&(this.#a=document.createDocumentFragment(),this.#a.append(this.#f),re(this.#s,this.#a)),this.#e===null&&(this.#e=p(()=>e(this.#t)))}#E(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#E(e);return}if(this.#o+=e,this.#o===0){this.is_pending=!1;for(const t of this.#_)P(t,ae),B(t);for(const t of this.#p)P(t,oe),B(t);this.#_.clear(),this.#p.clear(),this.#e&&k(this.#e,()=>{this.#e=null}),this.#a&&(this.#t.before(this.#a),this.#a=null)}}update_pending_count(e){this.#E(e),this.#d+=e,!(!this.#h||this.#u)&&(this.#u=!0,T(()=>{this.#u=!1,this.#h&&he(this.#h,this.#d)}))}get_effect_pending(){return this.#b(),V(this.#h)}error(e){var t=this.#i.onerror;let n=this.#i.failed;if(this.#c||!t&&!n)throw e;this.#s&&(A(this.#s),this.#s=null),this.#e&&(A(this.#e),this.#e=null),this.#r&&(A(this.#r),this.#r=null),u&&(w(this.#y),fe(),w(le()));var r=!1,s=!1;const a=()=>{if(r){pe();return}r=!0,s&&de(),S.ensure(),this.#d=0,this.#r!==null&&k(this.#r,()=>{this.#r=null}),this.is_pending=this.has_pending_snippet(),this.#s=this.#g(()=>(this.#c=!1,p(()=>this.#l(this.#t)))),this.#o>0?this.#v():this.is_pending=!1};var o=L;try{y(null),s=!0,t?.(e,a),s=!1}catch(h){H(h,this.#n&&this.#n.parent)}finally{y(o)}n&&T(()=>{this.#r=this.#g(()=>{S.ensure(),this.#c=!0;try{return p(()=>{n(this.#t,()=>e,()=>a)})}catch(h){return H(h,this.#n.parent),null}finally{this.#c=!1}})})}}const Ye=["touchstart","touchmove"];function Me(i){return Ye.includes(i)}function Z(i,e){return z(i,e)}function Ce(i,e){N(),e.intro=e.intro??!1;const t=e.target,n=u,r=c;try{for(var s=Q(t);s&&(s.nodeType!==x||s.data!==ge);)s=ve(s);if(!s)throw D;m(!0),w(s);const a=z(i,{...e,anchor:s});return m(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(o=>o.startsWith("https://svelte.dev/e/")))throw a;return a!==D&&console.warn("Failed to hydrate: ",a),e.recover===!1&&ye(),N(),me(t),m(!1),Z(i,e)}finally{m(n),w(r)}}const v=new Map;function z(i,{target:e,anchor:t,props:n={},events:r,context:s,intro:a=!0}){N();var o=new Set,h=_=>{for(var d=0;d<_.length;d++){var l=_[d];if(!o.has(l)){o.add(l);var F=Me(l);e.addEventListener(l,E,{passive:F});var Y=v.get(l);Y===void 0?(document.addEventListener(l,E,{passive:F}),v.set(l,1)):v.set(l,Y+1)}}};h(Ee(be)),q.add(h);var f=void 0,g=Te(()=>{var _=t??e.appendChild(U());return xe(_,{pending:()=>{}},d=>{if(s){Re({});var l=K;l.c=s}if(r&&(n.$$events=r),u&&X(d,null),f=i(d,n)||{},u&&(R.nodes.end=c,c===null||c.nodeType!==x||c.data!==we))throw Se(),D;s&&ke()}),()=>{for(var d of o){e.removeEventListener(d,E);var l=v.get(d);--l===0?(document.removeEventListener(d,E),v.delete(d)):v.set(d,l)}q.delete(h),_!==t&&_.parentNode?.removeChild(_)}});return O.set(f,g),f}let O=new WeakMap;function Ie(i,e){const t=O.get(i);return t?(O.delete(i),t(e)):Promise.resolve()}function b(i){return(e,...t)=>{var n=i(...t),r;if(u)r=c,j();else{var s=n.render().trim(),a=Ae(s);r=Q(a),e.before(r)}const o=n.setup?.(r);X(r,r),typeof o=="function"&&$e(o)}}const $=new WeakMap;var Be=i=>async(e,t,n,{client:r})=>{if(!i.hasAttribute("ssr"))return;let s,a,o={};for(const[f,g]of Object.entries(n))a??={},f==="default"?(a.default=!0,s=b(()=>({render:()=>`<astro-slot>${g}</astro-slot>`}))):a[f]=b(()=>({render:()=>`<astro-slot name="${f}">${g}</astro-slot>`})),f==="default"?o.children=b(()=>({render:()=>`<astro-slot>${g}</astro-slot>`})):o[f]=b(()=>({render:()=>`<astro-slot name="${f}">${g}</astro-slot>`}));const h={...t,children:s,$$slots:a,...o};if($.has(i))$.get(i).setProps(h);else{const f=Le(e,i,h,r!=="only");$.set(i,f),i.addEventListener("astro:unmount",()=>f.destroy(),{once:!0})}};function Le(i,e,t,n){let r=Ne(t);const s=n?Ce:Z;n||(e.innerHTML="");const a=s(i,{target:e,props:r});return{setProps(o){Object.assign(r,o);for(const h in r)h in o||delete r[h]},destroy(){Ie(a)}}}export{Be as default};
